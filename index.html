<DOCUMENT filename="index.html">

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯</title>
    <style>
        /* Ø£Ø¶Ù Ø£Ù†Ù…Ø§Ø· CSS Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± */
    </style>
</head>
<body>

    ğŸ¤– Ù…Ù†ØµØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ - Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: <span id="last-update"></span>

    <div>
        Ù…ÙƒØªØ¨Ø© Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯

        Ù…Ù†ØµØ© Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ© Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

        ğŸ“š 24 ÙƒØªØ§Ø¨ | 
        ğŸŒ Ù†Ø³Ø®ØªØ§Ù† linguistically | 
        ğŸ¤– Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

        ÙˆØµÙˆÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:

        ÙÙ‡Ø±Ø³ Ø§Ù„ÙƒØªØ¨ (JSON)
        ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¨Ø­Ø«

    </div>

    <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ù…Ù† Ø§Ù„Ù€ HTML Ø§Ù„Ø£ØµÙ„ÙŠØŒ Ù…Ø«Ù„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù„Ù„ÙƒØªØ¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ø§Ù„ÙÙ„Ø§ØªØ±ØŒ Ø¥Ù„Ø® -->

    <div id="book-grid"></div>
    <div id="book-list" style="display: none;"></div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø­Ø« -->
    <div id="search-results-container" style="display: none;">
        <div id="search-info">
            ØªØ¨Ø­Ø« Ø¹Ù†: <span id="search-term-display"></span> | 
            Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬: <span id="search-results-count"></span>
        </div>
        <div id="search-results-content"></div>
        <div id="no-results" style="display: none;">
            Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ÙƒØªØ¨ ØªØ·Ø§Ø¨Ù‚ Ø¨Ø­Ø«Ùƒ. Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØµØ·Ù„Ø­Ø§Øª Ø£Ø®Ø±Ù‰.
        </div>
    </div>

    <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€ HTML -->

    <script>
        let allBooks = [
            {
              "id": "conscious-contemplation",
              "titles": {
                "ar": "Ù†Ø­Ùˆ ØªØ¯Ø¨Ø± ÙˆØ§Ø¹Ù",
                "en": "Towards Conscious Contemplation"
              },
              "description": {
                "ar": "ÙƒØªØ§Ø¨ ÙŠØ´Ø±Ø­ Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ¯Ø¨Ø± Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ù„Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… ÙˆØªØ·Ø¨ÙŠÙ‚Ø§ØªÙ‡ Ø§Ù„Ø¹ØµØ±ÙŠØ©",
                "en": "A practical guide to deep understanding and applying the Noble Quran in the modern era"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/conscious-contemplation/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=17AkqVDGa9GOoGEpCHmk1yfQ9t9uIgUV2",
                  "html": "https://drive.google.com/uc?export=download&id=1CjD4C5WZBg6Nl7JTHMdvrgMbHI1GRVem",
                  "pdf": "books/conscious-contemplation/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1rMSGwIltsrPSjT4RLoX8ds21MyB633i7",
                  "text": "books/conscious-contemplation/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1ZjCEi5V3dye2T0fwpAExfnM9haDKhnQF",
                  "archive_text": "https://archive.org/stream/20250529_20250529_2132/%D9%86%D8%AD%D9%88%20%D8%AA%D8%AF%D8%A8%D8%B1%D9%8D%20%D9%88%D8%A7%D8%B9%D9%8D%20%D8%AF%D9%84%D9%8A%D9%84%20%D8%B9%D9%85%D9%84%D9%8A%20%D9%84%D9%81%D9%87%D9%85%20%D9%88%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%20%D8%A7%D9%84%D9%83%D8%B1%D9%8A%D9%85%20%D9%81%D9%8A%20%D8%A7%D9%84%D8%B9%D8%B5%D8%B1%20%D8%A7%D9%84%D8%AD%D8%AF%D9%8A%D8%AB_djvu.txt",
                  "archive_pdf": "https://dn720702.ca.archive.org/0/items/20250529_20250529_2132/%D9%86%D8%AD%D9%88%20%D8%AA%D8%AF%D8%A8%D8%B1%D9%8D%20%D9%88%D8%A7%D8%B9%D9%8D%20%D8%AF%D9%84%D9%8A%D9%84%20%D8%B9%D9%85%D9%84%D9%8A%20%D9%84%D9%81%D9%87%D9%85%20%D9%88%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%20%D8%A7%D9%84%D9%83%D8%B1%D9%8A%D9%85%20%D9%81%D9%8A%20%D8%A7%D9%84%D8%B9%D8%B5%D8%B1%20%D8%A7%D9%84%D8%AD%D8%AF%D9%8A%D8%AB.pdf",
                  "cover": "books/conscious-contemplation/ar/cover-ar.png"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=18FP0NmPM1CHSCZs0UDLnLBGSrqfEJWlX",
                  "html": "https://drive.google.com/uc?export=download&id=11gaZUgs7DkUBe_8OABu1remHgaEfZmnn",
                  "pdf": "books/conscious-contemplation/en/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1yKPdEMoAMHXLmKlhaSVhy61tjWoVEVbv",
                  "text": "books/conscious-contemplation/en/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1sWN_QZ-Ovmam3g2Y-I_a1OXkV4wFiqYb",
                  "archive_text": "https://archive.org/stream/towards-conscious-contemplation-a-practical-guide-to-understanding-and-applying-/TOWARDS%20CONSCIOUS%20CONTEMPLATION%20%20%20A%20PRACTICAL%20GUIDE%20TO%20UNDERSTANDING%20AND%20APPLYING%20THE%20NOBLE%20QUR%27AN%20IN%20THE%20MODERN%20ERA_djvu.txt",
                  "archive_pdf": "https://ia800602.us.archive.org/9/items/towards-conscious-contemplation-a-practical-guide-to-understanding-and-applying-/TOWARDS%20CONSCIOUS%20CONTEMPLATION%20%20%20A%20PRACTICAL%20GUIDE%20TO%20UNDERSTANDING%20AND%20APPLYING%20THE%20NOBLE%20QUR%27AN%20IN%20THE%20MODERN%20ERA.pdf",
                  "cover": "books/conscious-contemplation/en/cover-en.png"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "quranic_studies",
                "pages_ar": 91,
                "pages_en": 126,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["ØªØ¯Ø¨Ø± Ø§Ù„Ù‚Ø±Ø¢Ù†", "ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø¢Ù†", "ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„ØªØ¯Ø¨Ø±", "Ø§Ù„Ù‚Ø±Ø¢Ù† ÙÙŠ Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø­Ø¯ÙŠØ«", "Ù†ÙˆØ± Ø§Ù„Ø¹Ù‚Ù„", "Ø±Ù‚Ù…Ù†Ø© Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©", "Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ", "Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ© Ø§Ù„Ø£ØµÙ„ÙŠØ©", "Ù…Ù†Ù‡Ø¬ Ø­ÙŠØ§Ø©", "Ø§Ù„ÙÙ‡Ù… Ø§Ù„ÙˆØ§Ø¹ÙŠ Ù„Ù„Ù‚Ø±Ø¢Ù†", "Ø¢ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "ØªØ¯Ø¨Ø± Ø¹Ù…Ù„ÙŠ", "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯"]
              }
            },
            {
              "id": "anwar-al-bayan",
              "titles": {
                "ar": "Ø£Ù†ÙˆØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù† ÙÙŠ Ø±Ø³Ù… Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ: Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù„Ø³Ø§Ù†",
                "en": "Anwar Al-Bayan in the Drawing of the Ottoman Quran: Unveiling the Secrets of the Tongue"
              },
              "description": {
                "ar": "Ø¯Ø±Ø§Ø³Ø© Ø¹Ù„Ù…ÙŠØ© Ù…ØªØ¹Ù…Ù‚Ø© Ù„Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ ÙˆØ£Ø³Ø±Ø§Ø±Ù‡ Ø§Ù„Ù„ØºÙˆÙŠØ© ÙÙŠ ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…",
                "en": "A scientific study revealing the linguistic secrets of the Ottoman Quranic script"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/anwar-al-bayan/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=1VjEJEjjrJbM7glhR2lHEsqB1L94t2XCu",
                  "html": "https://drive.google.com/uc?export=download&id=1OuuQzbqrCW9blAvWc2AIpHdM9sl4bYUB",
                  "pdf": "books/anwar-al-bayan/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1OuuQzbqrCW9blAvWc2AIpHdM9sl4bYUB",
                  "text": "books/anwar-al-bayan/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1O0uafxgb-EXpmiOZaNnLEx73okvilKZl",
                  "archive_text": "https://archive.org/stream/20250529_20250529_2033/%D8%A3%D9%86%D9%88%D8%A7%D8%B1%20%D8%A7%D9%84%D8%A8%D9%8A%D8%A7%D9%86%20%D9%81%D9%8A%20%D8%B1%D8%B3%D9%85%20%D8%A7%D9%84%D9%85%D8%B5%D8%AD%D9%81%20%D8%A7%D9%84%D8%B9%D8%AB%D9%85%D8%A7%D9%86%D9%8A%20%D8%A7%D9%84%D9%83%D8%B4%D9%81%20%D8%B9%D9%86%20%D8%A3%D8%B3%D8%B1%D8%A7%D8%B1%20%D8%A7%D9%84%D9%84%D8%B3%D8%A7%D9%86_djvu.txt",
                  "archive_pdf": "https://dn721701.ca.archive.org/0/items/20250529_20250529_2033/%D8%A3%D9%86%D9%88%D8%A7%D8%B1%20%D8%A7%D9%84%D8%A8%D9%8A%D8%A7%D9%86%20%D9%81%D9%8A%20%D8%B1%D8%B3%D9%85%20%D8%A7%D9%84%D9%85%D8%B5%D8%AD%D9%81%20%D8%A7%D9%84%D8%B9%D8%AB%D9%85%D8%A7%D9%86%D9%8A%20%D8%A7%D9%84%D9%83%D8%B4%D9%81%20%D8%B9%D9%86%20%D8%A3%D8%B3%D8%B1%D8%A7%D8%B1%20%D8%A7%D9%84%D9%84%D8%B3%D8%A7%D9%86.pdf",
                  "cover": "books/anwar-al-bayan/ar/cover-ar.png"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=1TVOxURf1EI8Oq774aUANI7WRqbg5MbOi",
                  "html": "https://drive.google.com/uc?export=download&id=1s0x6gR0p7zfHuQIN7C8mpYT82NyHysEX",
                  "pdf": "books/anwar-al-bayan/en/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1kyDrHDpYAWA1G0KE8Ow5e5VIk-lbM6zZ",
                  "text": "books/anwar-al-bayan/en/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1vo44VX03M_ZR-ISriWgqAteOrvG8HMu2",
                  "archive_text": "https://archive.org/stream/anwar-al-bayan-in-the-drawing-of-the-ottoman-qur-an-revealing-the-secrets-of-the-tongue/ANWAR%20AL-BAYAN%20IN%20THE%20DRAWING%20OF%20THE%20OTTOMAN%20QUR%27AN%20%20%20REVEALING%20THE%20SECRETS%20OF%20THE%20TONGUE_djvu.txt",
                  "archive_pdf": "https://dn721503.ca.archive.org/0/items/anwar-al-bayan-in-the-drawing-of-the-ottoman-qur-an-revealing-the-secrets-of-the-tongue/ANWAR%20AL-BAYAN%20IN%20THE%20DRAWING%20OF%20THE%20OTTOMAN%20QUR%27AN%20%20%20REVEALING%20THE%20SECRETS%20OF%20THE%20TONGUE.pdf",
                  "cover": "books/anwar-al-bayan/en/cover-en.png"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "quranic_studies",
                "pages_ar": 161,
                "pages_en": 215,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ", "Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ", "Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù„Ø³Ø§Ù†", "Ø£Ù†ÙˆØ§Ø± Ø§Ù„Ø¨ÙŠØ§Ù†", "ØªØ¯Ø¨Ø± Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "Ø¹Ù„ÙˆÙ… Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©", "Ø§Ù„ØªÙØ³ÙŠØ±", "Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ", "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©"]
              }
            },
            {
              "id": "changing-the-concepts",
              "titles": {
                "ar": "ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…",
                "en": "Changing the Concepts"
              },
              "description": {
                "ar": "Ø¯Ø±Ø§Ø³Ø© ØªØ·Ø¨ÙŠÙ‚ÙŠØ© Ù„ÙÙ‚Ù‡ Ø§Ù„Ù„Ø³Ø§Ù† Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ ÙˆØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©",
                "en": "An applied study of the jurisprudence of the Quranic tongue and analysis of Quranic terminology"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/changing-the-concepts/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=1k2y2b8QCvcoBa-9Bn8qz7xPmSPN8P_oe",
                  "html": "https://drive.google.com/uc?export=download&id=1sOuXA8sA8a0vVU8betDkJvIZeNA6EjCB",
                  "pdf": "books/changing-the-concepts/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1xws8rEosYU6dbjPrI8wLxubBOCXMqiwZ",
                  "text": "books/changing-the-concepts/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=11JcMS0au6I2EbZtsZPPnNdPNcwSJN43M",
                  "archive_text": "https://archive.org/stream/20250529_20250529_2050/%D8%AA%D8%BA%D9%8A%D9%8A%D8%B1%20%D8%A7%D9%84%D9%85%D9%81%D8%A7%D9%87%D9%8A%D9%85%20%D9%84%D9%84%D9%85%D8%B5%D8%B7%D9%84%D8%AD%D8%A7%D8%AA%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%D9%8A%D8%A9%20%D9%83%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%20%D9%84%D9%81%D9%82%D9%87%20%D8%A7%D9%84%D9%84%D8%B3%D8%A7%D9%86%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%D9%8A_djvu.txt",
                  "archive_pdf": "https://ia801709.us.archive.org/33/items/20250529_20250529_2050/%D8%AA%D8%BA%D9%8A%D9%8A%D8%B1%20%D8%A7%D9%84%D9%85%D9%81%D8%A7%D9%87%D9%8A%D9%85%20%D9%84%D9%84%D9%85%D8%B5%D8%B7%D9%84%D8%AD%D8%A7%D8%AA%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%D9%8A%D8%A9%20%D9%83%D8%AA%D8%B7%D8%A8%D9%8A%D9%82%20%D9%84%D9%81%D9%82%D9%87%20%D8%A7%D9%84%D9%84%D8%B3%D8%A7%D9%86%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%D9%8A.pdf",
                  "cover": "books/changing-the-concepts/ar/cover-ar.png"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=1f7w8f9jX1L6F3D5Z8V5F2E6P9B4Q3R7S",
                  "html": "https://drive.google.com/uc?export=download&id=1f7w8f9jX1L6F3D5Z8V5F2E6P9B4Q3R7S",
                  "pdf": "books/changing-the-concepts/en/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1f7w8f9jX1L6F3D5Z8V5F2E6P9B4Q3R7S",
                  "text": "books/changing-the-concepts/en/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1f7w8f9jX1L6F3D5Z8V5F2E6P9B4Q3R7S",
                  "archive_text": "https://archive.org/stream/changing-the-concepts-an-applied-study-of-the-jurisprudence-of-the-quranic-ton/CHANGING%20THE%20CONCEPTS%20-%20AN%20APPLIED%20STUDY%20OF%20THE%20JURISPRUDENCE%20OF%20THE%20QURANIC%20TONGUE%20AND%20ANALYSIS%20OF%20QURANIC%20TERMS_djvu.txt",
                  "archive_pdf": "https://ia801709.us.archive.org/33/items/changing-the-concepts-an-applied-study-of-the-jurisprudence-of-the-quranic-ton/CHANGING%20THE%20CONCEPTS%20-%20AN%20APPLIED%20STUDY%20OF%20THE%20JURISPRUDENCE%20OF%20THE%20QURANIC%20TONGUE%20AND%20ANALYSIS%20OF%20QURANIC%20TERMS.pdf",
                  "cover": "books/changing-the-concepts/en/cover-en.png"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "quranic_studies",
                "pages_ar": 157,
                "pages_en": 206,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…", "Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©", "ÙÙ‚Ù‡ Ø§Ù„Ù„Ø³Ø§Ù† Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ", "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©", "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ù…ÙŠÙ‚", "Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¹Ø«Ù…Ø§Ù†ÙŠ", "Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ©", "Ø§Ù„ØªÙØ³ÙŠØ±", "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", "Ø¹Ù„ÙˆÙ… Ø§Ù„Ù‚Ø±Ø¢Ù†"]
              }
            },
            {
              "id": "prostration-and-glorification-in-the-qurâ€™an",
              "titles": {
                "ar": "Ø§Ù„Ø³Ø¬ÙˆØ¯ ÙˆØ§Ù„ØªØ³Ø¨ÙŠØ­ ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†: Ù…Ù† Ø§Ù„ØªÙ†Ø²ÙŠÙ‡ Ø§Ù„Ù‚Ù„Ø¨ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø¶ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠ",
                "en": "Prostration and Glorification in the Qurâ€™an: From Heartfelt Purification to Practical Submission"
              },
              "description": {
                "ar": "Ù…Ù† Ø§Ù„ØªÙ†Ø²ÙŠÙ‡ Ø§Ù„Ù‚Ù„Ø¨ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø¶ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠ",
                "en": "FROM HEARTFELT PURIFICATION TO PRACTICAL SUBMISSION"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/prostration-and-glorification-in-the-qurâ€™an/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=1_J5BwdF5xgKoXJM7WzRFxxv0NXWlrDLV",
                  "html": "https://drive.google.com/uc?export=download&id=1DV-6QP-LbkLlIbEKmhTV54iSUzcdGYHe",
                  "pdf": "books/prostration-and-glorification-in-the-qurâ€™an/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1SMFzP3qbsclWGaYJH_idtBPC2HOlZBuB",
                  "text": "books/prostration-and-glorification-in-the-qurâ€™an/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1Ic6Us2cmPScuJPOYUzShq-GERNdXO-gx",
                  "archive_text": null,
                  "archive_pdf": null,
                  "cover": "books/prostration-and-glorification-in-the-qurâ€™an/ar/cover-ar.png"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=1N8d5YlzSU9nLBnUkekLefTlskisPa1Qo",
                  "html": "https://drive.google.com/uc?export=download&id=1sDxqVx_D8NvO1q0CGrQs25_-CxW_Wsi0",
                  "pdf": "books/prostration-and-glorification-in-the-qurâ€™an/en/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1LgKEAcmmtIql5jFdRF4kZc0Xow-dPWjd",
                  "text": "books/prostration-and-glorification-in-the-qurâ€™an/en/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1-4pwIbiwFemrRSoMqGDGCgmPtEkiTlXD",
                  "archive_text": null,
                  "archive_pdf": null,
                  "cover": "books/prostration-and-glorification-in-the-qurâ€™an/en/cover-en.png"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "faith_studies",
                "pages_ar": 131,
                "pages_en": 189,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["Ø§Ù„Ø³Ø¬ÙˆØ¯", "Ø§Ù„ØªØ³Ø¨ÙŠØ­", "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "Ø§Ù„ØªÙ†Ø²ÙŠÙ‡ Ø§Ù„Ù‚Ù„Ø¨ÙŠ", "Ø§Ù„Ø®Ø¶ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠ", "Ù…Ù†Ù‡Ø¬ Ø­ÙŠØ§Ø©", "Ø§Ù„Ø­Ù…Ø¯ Ø§Ù„Ù…Ø­Ù…Ø¯ÙŠ", "ÙÙ‚Ù‡ Ø§Ù„Ù„Ø³Ø§Ù† Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ", "Ø§Ù„Ø¹Ø¨ÙˆØ¯ÙŠØ©"]
              }
            },
            {
              "id": "christ-and-mary-in-the-qurâ€™an",
              "titles": {
                "ar": "Ø§Ù„Ù…Ø³ÙŠØ­ ÙˆÙ…Ø±ÙŠÙ… ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†: Ù…Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠ",
                "en": "Christ and Mary in the Qurâ€™an: From the Esoteric Symbol to the Human Model"
              },
              "description": {
                "ar": "Ù…Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠ",
                "en": "From the esoteric symbol to the human model"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/christ-and-mary-in-the-qurâ€™an/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=1f-RnPsgoj2SWgpUKGqXfXXloZaQPfPo0",
                  "html": "https://drive.google.com/uc?export=download&id=126o_Pn8Z5HEUQl3OVy4Tjo0dGcPEp4Ni",
                  "pdf": "books/christ-and-mary-in-the-qurâ€™an/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1tg6hiu3rJs1AClr-rfT732y2zN6-cHmJ",
                  "text": "books/christ-and-mary-in-the-qurâ€™an/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=12xfvS3lrXzU5EPijQGWWThmxoRPOdMDZ",
                  "archive_text": null,
                  "archive_pdf": null,
                  "cover": "books/christ-and-mary-in-the-qurâ€™an/ar/cover-ar.png"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=1PU2hPmTCn6GnFJzZ0sxHhdSgYrfg9jC4",
                  "html": "https://drive.google.com/uc?export=download&id=1tNy2hUQvoEDFLaj9kOm-mGzuzp1Q_Uzt",
                  "pdf": "books/christ-and-mary-in-the-qurâ€™an/en/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=16r8XSPcI5ShgIvX_7ReHJ7cmFscJ6v_t",
                  "text": "books/christ-and-mary-in-the-qurâ€™an/en/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1YtX1Q9rjzo-qL6UXCDeklHUcjuKe9m6w",
                  "archive_text": null,
                  "archive_pdf": null,
                  "cover": "books/christ-and-mary-in-the-qurâ€™an/en/cover-en.png"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "faith_studies",
                "pages_ar": 69,
                "pages_en": 94,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["Ø§Ù„Ù…Ø³ÙŠØ­", "Ù…Ø±ÙŠÙ…", "Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ø§Ù„ØªØ¯Ø¨Ø± Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠ", "Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø§Ø·Ù†ÙŠ", "Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠ", "Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ÙˆØ¹ÙŠ", "Ø§Ù„ØªÙØ³ÙŠØ± Ø§Ù„Ø±Ù…Ø²ÙŠ", "ÙÙ‚Ù‡ Ø§Ù„Ù„Ø³Ø§Ù† Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ", "Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø«Ø§Ù†ÙŠ", "Ø§Ù„ÙƒÙ„Ù…Ø©", "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¥Ø­ÙŠØ§Ø¦ÙŠ", "Ø§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯", "Ø§Ù„ØªØ­Ø±Ø± Ø§Ù„ÙÙƒØ±ÙŠ", "Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø³Ù†Ù‰", "Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ø¥Ù„Ù‡ÙŠ", "Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø§Ù„Ø¹Ø°Ø±ÙŠØ©", "Ù…Ø±ÙŠÙ… Ø§Ù„Ø«Ø§Ø¦Ø±Ø©", "ØªØ­Ù„ÙŠÙ„ Ù†ÙØ³ÙŠ Ù„Ù…Ø±ÙŠÙ…", "Ø§Ù„Ù…Ø­Ø±Ø§Ø¨", "Ø§Ù„Ù†ØµØ§Ø±Ù‰ ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†", "Ù‚Ø±Ø§Ø¡Ø© Ø¹Ù„Ù…ÙŠØ© Ù…Ø¹Ø§ØµØ±Ø©"]
              }
            },
            {
              "id": "names-in-the-holy",
              "titles": {
                "ar": "Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…: Ø¯Ø±Ø§Ø³Ø© ØªÙˆÙ‚ÙŠÙÙŠØ© ØªØ­Ù„ÙŠÙ„ÙŠØ© Ù„Ø¯Ù„Ø§Ù„Ø§Øª Ø§Ù„ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ø¥Ù„Ù‡ÙŠ",
                "en": "The Functional Beautiful Names in the Holy Quran: An Analytical Discretionary Study of the Connotations of Divine Management"
              },
              "description": {
                "ar": "Ø¯Ø±Ø§Ø³Ø© ØªÙˆÙ‚ÙŠÙÙŠØ© ØªØ­Ù„ÙŠÙ„ÙŠØ© Ù„Ø¯Ù„Ø§Ù„Ø§Øª Ø§Ù„ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ø¥Ù„Ù‡ÙŠ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰",
                "en": "An analytical discretionary study of the connotations of divine management through the Beautiful Names"
              },
              "cover_image": "https://nasserhabitat.github.io/nasser-books/books/names-in-the-holy/ar/cover-ar.png",
              "links": {
                "ar": {
                  "docx": "https://drive.google.com/uc?export=download&id=1bP9LhKW_KUmh8pD5L2DROKMJSHEsU1Bz",
                  "pdf": "books/names-in-the-holy/ar/content.pdf",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1hX1pyjB-AMZipBO7goySnXLAO1Yb5j0o",
                  "html": "https://drive.google.com/uc?export=download&id=1nOdYzAUMz7HR0NeHrOfACEMwRGHu87Uc",
                  "text": "books/names-in-the-holy/ar/content.txt",
                  "text_external": "https://drive.google.com/uc?export=download&id=1yzexcZFd9MKtcyR_a-6EpFkjsmp2RPJD",
                  "cover": "books/names-in-the-holy/ar/cover-ar.png",
                  "archive_text": "https://archive.org/stream/20250529_20250529_2125/%D9%83%D8%AA%D8%A7%D8%A8%20%D8%A7%D9%84%D8%A3%D8%B3%D9%85%D8%A7%D8%A1%20%D8%A7%D9%84%D8%AD%D8%B3%D9%86%D9%89%20%D8%A7%D9%84%D9%88%D8%B8%D9%8A%D9%81%D9%8A%D8%A9%20%D9%81%D9%8A%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%20%D8%A7%D9%84%D9%83%D8%B1%D9%8A%D9%85-%20%D8%AF%D8%B1%D8%A7%D8%B3%D8%A9%20%D8%AA%D9%88%D9%82%D9%8A%D9%81%D9%8A%D8%A9%20%D8%AA%D8%AD%D9%84%D9%8A%D9%84%D9%8A%D8%A9%20%D9%84%D8%AF%D9%84%D8%A7%D9%84%D8%A7%D8%AA%20%D8%A7%D9%84%D8%AA%D8%AF%D8%A8%D9%8A%D8%B1%20%D8%A7%D9%84%D8%A5%D9%84%D9%87%D9%8A%E2%80%83_djvu.txt",
                  "archive_pdf": "https://dn721500.ca.archive.org/0/items/20250529_20250529_2125/%D9%83%D8%AA%D8%A7%D8%A8%20%D8%A7%D9%84%D8%A3%D8%B3%D9%85%D8%A7%D8%A1%20%D8%A7%D9%84%D8%AD%D8%B3%D9%86%D9%89%20%D8%A7%D9%84%D9%88%D8%B8%D9%8A%D9%81%D9%8A%D8%A9%20%D9%81%D9%8A%20%D8%A7%D9%84%D9%82%D8%B1%D8%A2%D9%86%20%D8%A7%D9%84%D9%83%D8%B1%D9%8A%D9%85-%20%D8%AF%D8%B1%D8%A7%D8%B3%D8%A9%20%D8%AA%D9%88%D9%82%D9%8A%D9%81%D9%8A%D8%A9%20%D8%AA%D8%AD%D9%84%D9%8A%D9%84%D9%8A%D8%A9%20%D9%84%D8%AF%D9%84%D8%A7%D9%84%D8%A7%D8%AA%20%D8%A7%D9%84%D8%AA%D8%AF%D8%A8%D9%8A%D8%B1%20%D8%A7%D9%84%D8%A5%D9%84%D9%87%D9%8A%E2%80%83.pdf"
                },
                "en": {
                  "docx": "https://drive.google.com/uc?export=download&id=1wm69kiHQygYC8_hecev39pKfNFdMnuiy",
                  "pdf_external": "https://drive.google.com/uc?export=download&id=1UiOYSda3JvMBzHqoX9B3Tg5dzU56A9nu",
                  "html": "https://drive.google.com/uc?export=download&id=12cV5qFDaZ-0SzQGInIn9cP9vOONVzY9-",
                  "text_external": "https://drive.google.com/uc?export=download&id=1MYa0vWDb1vBI5R7Ojq1bloO45txsVkdE",
                  "pdf": "books/names-in-the-holy/en/content.pdf",
                  "text": "books/names-in-the-holy/en/content.txt",
                  "cover": "books/names-in-the-holy/en/cover-en.png",
                  "archive_text": "https://archive.org/stream/the-most-beautiful-functional-names-in-the-holy-qur-an-an-analytical-endowment-s/THE%20MOST%20BEAUTIFUL%20FUNCTIONAL%20NAMES%20IN%20THE%20HOLY%20QUR%27AN%20-%20%20AN%20ANALYTICAL%20ENDOWMENT%20STUDY%20OF%20THE%20IMPLICATIONS%20OF%20DIVINE%20MANAGEMENT_djvu.txt",
                  "archive_pdf": "https://dn721208.ca.archive.org/0/items/the-most-beautiful-functional-names-in-the-holy-qur-an-an-analytical-endowment-s/THE%20MOST%20BEAUTIFUL%20FUNCTIONAL%20NAMES%20IN%20THE%20HOLY%20QUR%27AN%20-%20%20AN%20ANALYTICAL%20ENDOWMENT%20STUDY%20OF%20THE%20IMPLICATIONS%20OF%20DIVINE%20MANAGEMENT.pdf"
                }
              },
              "metadata": {
                "author": "Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯",
                "category": "faith_studies",
                "pages_ar": 193,
                "pages_en": 248,
                "language_ar": "arabic",
                "language_en": "english",
                "ai_accessible": true,
                "structured_data": true,
                "topics": ["Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰", "Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©", "Ø§Ù„ØªØ¯Ø¨ÙŠØ± Ø§Ù„Ø¥Ù„Ù‡ÙŠ", "Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…", "Ø¯Ø±Ø§Ø³Ø© ØªÙˆÙ‚ÙŠÙÙŠØ©", "Ø¯Ù„Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰", "Ø§Ù„Ø¥Ø­ØµØ§Ø¡", "ÙÙ‡Ù… Ø³Ù†Ù† Ø§Ù„ÙƒÙˆÙ†", "Ø§Ù„ÙŠÙ‚ÙŠÙ†", "Ø§Ù„Ø·Ù…Ø£Ù†ÙŠÙ†Ø©", "Ø­Ù„ Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª", "Ø§Ù„Ø¯Ø¹Ø§Ø¡", "Ø§Ù„ØªÙˆÙƒÙ„", "ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø­Ø³Ù†Ù‰", "Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¨Ø§Ù„Ù„Ù‡", "Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ù…Ø§Ø¡", "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨Ø§Ù„Ù„Ù‡", "Ø§Ù„ØªØ£Ù…Ù„ ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†"]
              }
            }
            // Add the rest of the books from the full JSON if available; for this response, using the provided ones.
        ];

        let bookContent = {};
        const formatsMap = {
            'docx': 'DOCX',
            'html': 'HTML',
            'pdf': 'PDF',
            'text': 'TEXT',
            'pdf_external': 'External PDF',
            'text_external': 'External TEXT',
            'archive_text': 'Archive Text',
            'archive_pdf': 'Archive PDF'
        };
        const langMap = {
            'ar': {
                'pdf_label': 'ØªØ­Ù…ÙŠÙ„ PDF',
                'read_more_label': 'Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„',
                'formats_title': 'Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„',
                'no_desc': 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­.',
                'more_link_label': 'Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø²ÙŠØ¯',
                'read_direct_label': 'Ù‚Ø±Ø§Ø¡Ø© Ù…Ø¨Ø§Ø´Ø±Ø©'
            },
            'en': {
                'pdf_label': 'Download PDF',
                'read_more_label': 'Download Links',
                'formats_title': 'Download Links',
                'no_desc': 'No description available.',
                'more_link_label': 'Read More',
                'read_direct_label': 'Read Directly'
            }
        };

        function getLang() {
            return document.documentElement.lang || 'ar';
        }

        function updateLastUpdateTime() {
            const lastUpdateSpan = document.getElementById('last-update');
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
            lastUpdateSpan.textContent = now.toLocaleDateString('ar-EG', options);
        }

        function generateDownloadLinks(book, lang) {
            let linksHtml = '';
            const links = book.links[lang];
            if (links) {
                linksHtml += `<h3>${langMap[lang].formats_title}</h3>`;
                linksHtml += '<ul>';
                for (const key in links) {
                    if (links.hasOwnProperty(key) && formatsMap[key] && key !== 'cover') {
                        linksHtml += `<li><a href="${links[key]}" target="_blank">${formatsMap[key] || key.toUpperCase()}</a></li>`;
                    }
                }
                linksHtml += '</ul>';
            }
            return linksHtml;
        }

        function createBookCard(book, viewType = 'grid') {
            const lang = getLang();
            const card = document.createElement('div');
            card.className = 'book-card';
            card.setAttribute('data-category', book.metadata.category);
            const aiAccess = {
                structured_data: book.metadata.structured_data,
                api_accessible: book.metadata.ai_accessible,
                content_analysis: true,
                formats: ["html", "pdf", "txt"]
            };
            card.setAttribute('data-ai-access', JSON.stringify(aiAccess));
            card.setAttribute('data-id', book.id);

            const bookTitle = book.titles[lang] || book.titles.ar;
            const bookCover = book.links[lang]?.cover || book.cover_image;
            const bookDesc = book.description[lang] || book.description.ar || langMap[lang].no_desc;
            const bookPages = book.metadata[`pages_${lang}`] || book.metadata.pages_ar || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            const bookAuthor = book.metadata.author || 'Ù†Ø§ØµØ± Ø§Ø¨Ù† Ø¯Ø§ÙˆÙˆØ¯';

            const hasEnglishVersion = !!book.titles.en && !!book.links.en;
            const enBadgeHtml = hasEnglishVersion ? '<span class="en-badge">EN</span>' : '';
            let englishVersionHtml = '';
            if (hasEnglishVersion) {
                englishVersionHtml = `
                    <button class="english-btn">English Version</button>
                    <p>Available in English</p>
                `;
            }

            // No page link in new data, so omit
            const pageLinkHtml = '';

            card.innerHTML = `
                <div class="book-cover">
                    ${enBadgeHtml}
                    <img src="${bookCover}" alt="${bookTitle}">
                    <span class="ai-badge">AI Ready</span>
                </div>
                <div class="book-info">
                    <h2>${bookTitle}</h2>
                    <p class="author-pages">${bookAuthor} | ${bookPages} ØµÙØ­Ø©</p>
                    <p class="description">${bookDesc}</p>
                    <div class="ai-formats">
                        ${aiAccess.formats.map(format => `<span>${format.toUpperCase()}</span>`).join('')}
                    </div>
                    ${generateDownloadLinks(book, lang)}
                    <button class="read-direct-btn">${langMap[lang].read_direct_label}</button>
                    ${englishVersionHtml}
                    ${pageLinkHtml}
                </div>
            `;

            const readBtn = card.querySelector('.read-direct-btn');
            if (readBtn) {
                readBtn.addEventListener('click', () => openReader(book.id, lang));
            }

            return card;
        }

        function loadBooks() {
            const bookGrid = document.getElementById('book-grid');
            const bookList = document.getElementById('book-list');

            bookGrid.innerHTML = '';
            bookList.innerHTML = '';

            allBooks.forEach(book => {
                const gridCard = createBookCard(book, 'grid');
                const listCard = createBookCard(book, 'list');

                bookGrid.appendChild(gridCard);
                bookList.appendChild(listCard);
            });
        }

        async function preloadBookContents() {
            const promises = allBooks.map(async (book) => {
                if (book.links.ar && book.links.ar.text) {
                    try {
                        const response = await fetch(book.links.ar.text);
                        const content = await response.text();
                        bookContent[book.id] = content;
                    } catch (error) {
                        console.error(`Failed to load content for ${book.titles.ar}:`, error);
                    }
                }
            });
            await Promise.all(promises);
        }

        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…Ø«Ù„ searchBooks, setupSearch, setupFilterButtons, applyFilters, setupAdvancedFilters, setupViewOptions, openReader

        // Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„
        function searchBooks(searchTerm) {
            // Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø£ØµÙ„
        }

        // ... (Ø£ÙƒÙ…Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù€ JS Ø§Ù„ÙƒØ§Ù…Ù„ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø³Ø§Ø¨Ù‚ØŒ Ù…Ø¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©)

        document.addEventListener('DOMContentLoaded', async function() {
            updateLastUpdateTime();
            loadBooks();
            await preloadBookContents();
            // setup functions...
            setInterval(updateLastUpdateTime, 3600000);
        });
    </script>

</body>
</html>

</DOCUMENT>
